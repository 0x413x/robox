{
    "variables": {
        "box_version": "{{env `VERSION`}}"
    },
    "provisioners": [
        {
            "type": "shell",
            "scripts": [
                "scripts/oracle7/fixdns.sh",
                "scripts/oracle7/yum.sh"
            ],
            "execute_command": "echo 'vagrant' | sudo -S bash '{{.Path}}'",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-oracle7-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/oracle7/kernel.sh",
                "scripts/oracle7/virtualbox.sh",
                "scripts/oracle7/vmware.sh",
                "scripts/oracle7/qemu.sh",
                "scripts/oracle7/vagrant.sh",
                "scripts/oracle7/network.sh"
            ],
            "execute_command": "echo 'vagrant' | sudo -S bash '{{.Path}}'",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-oracle7-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/opensuse42/sudo.sh",
                "scripts/opensuse42/zypper.sh",
                "scripts/opensuse42/vagrant.sh"
            ],
            "execute_command": "/bin/bash '{{.Path}}'",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-opensuse42-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/alpine35/apk.sh"
            ],
            "execute_command": "/bin/sh '{{.Path}}'",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-alpine35-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/alpine35/vagrant.sh",
                "scripts/alpine35/virtualbox.sh",
                "scripts/alpine35/vmware.sh",
                "scripts/alpine35/qemu.sh",
                "scripts/alpine35/cache.sh"
            ],
            "execute_command": "/bin/bash '{{.Path}}'",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-alpine35-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/alpine36/apk.sh"
            ],
            "execute_command": "/bin/sh '{{.Path}}'",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-alpine36-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/alpine36/vagrant.sh",
                "scripts/alpine36/virtualbox.sh",
                "scripts/alpine36/vmware.sh",
                "scripts/alpine36/qemu.sh",
                "scripts/alpine36/cache.sh"
            ],
            "execute_command": "/bin/bash '{{.Path}}'",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-alpine36-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/centos6/fixdns.sh",
                "scripts/centos6/base.sh",
                "scripts/centos6/reboot.sh"
            ],
            "execute_command": "echo 'vagrant' | sudo -S bash '{{.Path}}'",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-centos6-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/centos6/kernel.sh",
                "scripts/centos6/virtualbox.sh",
                "scripts/centos6/vmware.sh",
                "scripts/centos6/qemu.sh",
                "scripts/centos6/vagrant.sh",
                "scripts/centos6/tuning.sh",
                "scripts/centos6/sshd.sh",
                "scripts/centos6/cleanup.sh"
            ],
            "execute_command": "echo 'vagrant' | sudo -S bash '{{.Path}}'",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-centos6-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/centos7/fixdns.sh",
                "scripts/centos7/yum.sh",
                "scripts/centos7/base.sh",
                "scripts/centos7/reboot.sh"
            ],
            "execute_command": "echo 'vagrant' | sudo -S bash '{{.Path}}'",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-centos7-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/centos7/kernel.sh",
                "scripts/centos7/virtualbox.sh",
                "scripts/centos7/vmware.sh",
                "scripts/centos7/qemu.sh",
                "scripts/centos7/vagrant.sh",
                "scripts/centos7/tuning.sh",
                "scripts/centos7/sshd.sh",
                "scripts/centos7/cleanup.sh",
                "scripts/centos7/unyum.sh"
            ],
            "execute_command": "echo 'vagrant' | sudo -S bash '{{.Path}}'",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-centos7-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/gentoo/emerge.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-gentoo-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/gentoo/vagrant.sh"
            ],
            "type": "shell",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-gentoo-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/arch/pacman.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-arch-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/arch/vagrant.sh"
            ],
            "type": "shell",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-arch-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/debian8/network.sh",
                "scripts/debian8/apt.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-debian8-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/debian8/vagrant.sh",
                "scripts/debian8/fixtty.sh",
                "scripts/debian8/virtualbox.sh",
                "scripts/debian8/vmware.sh",
                "scripts/debian8/qemu.sh"
            ],
            "type": "shell",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-debian8-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/fedora25/fixdns.sh",
                "scripts/fedora25/dnf.sh"
            ],
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-fedora25-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/fedora25/base.sh"
            ],
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-fedora25-virtualbox"
            ]
        },
        {
            "type": "shell",
            "scripts": [
                "scripts/fedora25/kernel.sh",
                "scripts/fedora25/virtualbox.sh",
                "scripts/fedora25/vmware.sh",
                "scripts/fedora25/qemu.sh",
                "scripts/fedora25/vagrant.sh",
                "scripts/fedora25/tuning.sh"
            ],
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-fedora25-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/freebsd11/pkg.sh",
                "scripts/freebsd11/vagrant.sh",
                "scripts/freebsd11/virtualbox.sh",
                "scripts/freebsd11/vmware.sh",
                "scripts/freebsd11/qemu.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "execute_command": "/usr/local/bin/bash {{ .Path }}",
            "only": [
                "generic-freebsd11-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/openbsd6/pkg.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "execute_command": "/bin/sh {{ .Path }}",
            "only": [
                "generic-openbsd6-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/ubuntu1604/network.sh",
                "scripts/ubuntu1604/apt.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-ubuntu1604-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/ubuntu1604/vagrant.sh",
                "scripts/ubuntu1604/fixtty.sh",
                "scripts/ubuntu1604/virtualbox.sh",
                "scripts/ubuntu1604/vmware.sh",
                "scripts/ubuntu1604/qemu.sh"
            ],
            "type": "shell",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-ubuntu1604-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/ubuntu1610/network.sh",
                "scripts/ubuntu1610/apt.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-ubuntu1610-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/ubuntu1610/vagrant.sh",
                "scripts/ubuntu1610/fixtty.sh",
                "scripts/ubuntu1610/virtualbox.sh",
                "scripts/ubuntu1610/vmware.sh",
                "scripts/ubuntu1610/qemu.sh"
            ],
            "type": "shell",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-ubuntu1610-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/ubuntu1704/network.sh",
                "scripts/ubuntu1704/apt.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-ubuntu1704-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/ubuntu1704/vagrant.sh",
                "scripts/ubuntu1704/fixtty.sh",
                "scripts/ubuntu1704/virtualbox.sh",
                "scripts/ubuntu1704/vmware.sh",
                "scripts/ubuntu1704/qemu.sh"
            ],
            "type": "shell",
            "pause_before": "120s",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "only": [
                "generic-ubuntu1704-virtualbox"
            ]
        },
        {
            "scripts": [
                "scripts/common/zerodisk.sh",
                "scripts/common/lockout.sh"
            ],
            "type": "shell",
            "start_retry_timeout": "15m",
            "expect_disconnect": "true",
            "except": [
                "generic-freebsd11-virtualbox",
                "generic-openbsd6-virtualbox"
            ]
        }
    ],
    "builders": [
        {
            "type": "virtualbox-iso",
            "name": "generic-oracle7-virtualbox",
            "vm_name": "generic-oracle7-virtualbox",
            "output_directory": "output/generic-oracle7-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<tab>text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.oracle7.vagrant.ks<enter><wait>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "2"
                ]
            ],
            "guest_os_type": "Oracle_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/oracle/OL7/u3/x86_64/OracleLinux-R7-U3-Server-x86_64-dvd.iso",
            "iso_checksum": "2ad5327428c44d505a7d882a273cb3f5fbac4e56e739cf18f895565dde987101",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-opensuse42-virtualbox",
            "vm_name": "generic-opensuse42-virtualbox",
            "output_directory": "output/generic-opensuse42-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<esc><enter><wait>",
                "linux netsetup=dhcp install=https://mirrors.kernel.org/opensuse/distribution/leap/42.3/repo/oss/ lang=en_US  textmode=1 <wait>",
                "autoyast=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.opensuse42.vagrant.cfg<wait>",
                "<enter><wait>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "2"
                ]
            ],
            "guest_os_type": "OpenSUSE_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/opensuse/distribution/leap/42.3/iso/openSUSE-Leap-42.3-NET-x86_64-Build0275-Media.iso",
            "iso_checksum": "941f3f5a40a456a28398bd1b54035d8c316fc829c1ec6fb6e5e9fbedca9dbbcf",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S /sbin/halt -h -p",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-alpine35-virtualbox",
            "vm_name": "generic-alpine35-virtualbox",
            "output_directory": "output/generic-alpine35-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "root<enter><wait>",
                "ifconfig eth0 up && udhcpc -i eth0<enter><wait>",
                "wget http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.alpine35.vagrant.cfg<enter><wait>",
                "sed -i -e \"/rc-service/d\" /sbin/setup-sshd<enter><wait>",
                "printf \"vagrant\\nvagrant\\ny\\n\" | setup-alpine -f generic.alpine35.vagrant.cfg && ",
                "mount /dev/sda3 /mnt && ",
                "echo 'PasswordAuthentication yes' >> /mnt/etc/ssh/sshd_config && ",
                "echo 'PermitRootLogin yes' >> /mnt/etc/ssh/sshd_config && ",
                "umount /mnt && reboot<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "2"
                ]
            ],
            "guest_os_type": "Linux_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirror.leaseweb.com/alpine/v3.5/releases/x86_64/alpine-virt-3.5.2-x86_64.iso",
            "iso_checksum": "2258ca975d7b829ea6229d314b2782d4070ec9b7f688392817e562f5a14a34b5",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "/sbin/poweroff",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-alpine36-virtualbox",
            "vm_name": "generic-alpine36-virtualbox",
            "output_directory": "output/generic-alpine36-virtualbox",
            "boot_wait": "30s",
            "boot_command": [
                "root<enter><wait>",
                "ifconfig eth0 up && udhcpc -i eth0<enter><wait>",
                "wget http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.alpine36.vagrant.cfg<enter><wait>",
                "sed -i -e \"/rc-service/d\" /sbin/setup-sshd<enter><wait>",
                "printf \"vagrant\\nvagrant\\ny\\n\" | setup-alpine -f generic.alpine36.vagrant.cfg && ",
                "mount /dev/sda3 /mnt && ",
                "echo 'PasswordAuthentication yes' >> /mnt/etc/ssh/sshd_config && ",
                "echo 'PermitRootLogin yes' >> /mnt/etc/ssh/sshd_config && ",
                "umount /mnt && reboot<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "2"
                ]
            ],
            "guest_os_type": "Linux_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirror.leaseweb.com/alpine/v3.6/releases/x86_64/alpine-virt-3.6.1-x86_64.iso",
            "iso_checksum": "f4421357ed2c969046b95cef6fc4844aeebfe8a2323049915dbe953d5f1d3c36",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "/sbin/poweroff",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-centos6-virtualbox",
            "vm_name": "generic-centos6-virtualbox",
            "output_directory": "output/generic-centos6-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<tab> text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.centos6.vagrant.ks<enter><wait>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "2"
                ]
            ],
            "guest_os_type": "RedHat_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/centos/6.9/isos/x86_64/CentOS-6.9-x86_64-minimal.iso",
            "iso_checksum": "422af57b493b8af49d485885a730c5a1d955f803fac85aa51311c393168b9080",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-centos7-virtualbox",
            "vm_name": "generic-centos7-virtualbox",
            "output_directory": "output/generic-centos7-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<tab>text ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.centos7.vagrant.ks<enter><wait>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "2"
                ]
            ],
            "guest_os_type": "RedHat_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/centos/7.3.1611/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso",
            "iso_checksum": "27bd866242ee058b7a5754e83d8ee8403e216b93d130d800852a96f41c34d86a",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-arch-virtualbox",
            "vm_name": "generic-arch-virtualbox",
            "output_directory": "output/generic-arch-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<enter><wait10><wait10><wait10>",
                "curl -O 'http://{{.HTTPIP}}:{{.HTTPPort}}/generic.arch.vagrant{,.chroot}.sh'<enter><wait>",
                "bash generic.arch.vagrant.sh < generic.arch.vagrant.chroot.sh && systemctl reboot<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "ArchLinux_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/archlinux/iso/2017.06.01/archlinux-2017.06.01-x86_64.iso",
            "iso_checksum": "ee4023c063d0dd29924693ee5b5e7425af92edc2797f300d824070b63d3db1f3",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-fedora25-virtualbox",
            "vm_name": "generic-fedora25-virtualbox",
            "output_directory": "output/generic-fedora25-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<tab> ",
                "inst.ks=http://{{.HTTPIP}}:{{.HTTPPort}}/generic.fedora25.vagrant.ks ",
                "biosdevname=0 ",
                "net.ifnames=0 ",
                "<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "Fedora_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/fedora/releases/25/Server/x86_64/iso/Fedora-Server-netinst-x86_64-25-1.3.iso",
            "iso_checksum": "86bc3694f4938382753d1e9536f2140a6c9c1978207766340c679a89509073c7",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-debian8-virtualbox",
            "vm_name": "generic-debian8-virtualbox",
            "output_directory": "output/generic-debian8-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<esc><wait>",
                "auto ",
                "preseed/url=http://{{.HTTPIP}}:{{.HTTPPort}}/generic.debian8.vagrant.cfg ",
                "<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "Debian_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/debian-cd/8.8.0/amd64/iso-cd/debian-8.8.0-amd64-netinst.iso",
            "iso_checksum": "2c07ff8cc766767610566297b8729740f923735e790c8e78b718fb93923b448e",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-ubuntu1604-virtualbox",
            "vm_name": "generic-ubuntu1604-virtualbox",
            "output_directory": "output/generic-ubuntu1604-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<enter><wait>",
                "<f6><esc>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
                "<bs><bs><bs>",
                "/install/vmlinuz ",
                "initrd=/install/initrd.gz ",
                "auto-install/enable=true ",
                "debconf/priority=critical ",
                "preseed/url=http://{{.HTTPIP}}:{{.HTTPPort}}/generic.ubuntu1604.vagrant.cfg<wait> ",
                "<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "Ubuntu_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/ubuntu-releases/16.04.2/ubuntu-16.04.2-server-amd64.iso",
            "iso_checksum": "737ae7041212c628de5751d15c3016058b0e833fdc32e7420209b76ca3d0a535",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-ubuntu1610-virtualbox",
            "vm_name": "generic-ubuntu1610-virtualbox",
            "output_directory": "output/generic-ubuntu1610-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<esc><wait>",
                "<esc><wait>",
                "<enter><wait>",
                "/install/vmlinuz ",
                "initrd=/install/initrd.gz ",
                "auto-install/enable=true ",
                "debconf/priority=critical ",
                "preseed/url=http://{{.HTTPIP}}:{{.HTTPPort}}/generic.ubuntu1610.vagrant.cfg<wait> ",
                "<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "Ubuntu_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/ubuntu-releases/16.10/ubuntu-16.10-server-amd64.iso",
            "iso_checksum": "72b0d421da77f1e0c549b4efe6fc6c184e9909d6792f0d1e59b56d63e9705659",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-ubuntu1704-virtualbox",
            "vm_name": "generic-ubuntu1704-virtualbox",
            "output_directory": "output/generic-ubuntu1704-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "<esc><wait>",
                "<esc><wait>",
                "<enter><wait>",
                "/install/vmlinuz ",
                "initrd=/install/initrd.gz ",
                "auto-install/enable=true ",
                "debconf/priority=critical ",
                "preseed/url=http://{{.HTTPIP}}:{{.HTTPPort}}/generic.ubuntu1704.vagrant.cfg<wait> ",
                "<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "Ubuntu_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/ubuntu-releases/17.04/ubuntu-17.04-server-amd64.iso",
            "iso_checksum": "ca5d9a8438e2434b9a3ac2be67b5c5fa2c1f8e3e40b954519462935195464034",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "echo 'vagrant' | sudo -S shutdown -P now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-gentoo-virtualbox",
            "vm_name": "generic-gentoo-virtualbox",
            "output_directory": "output/generic-gentoo-virtualbox",
            "boot_wait": "5s",
            "boot_command": [
                "gentoo-nofb<enter>",
                "<wait10><enter>",
                "<wait10><wait10><wait10><wait10>",
                "passwd root<enter><wait>",
                "vagrant<enter><wait>",
                "vagrant<enter><wait>",
                "curl -O 'http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.gentoo.vagrant{,.chroot}.sh'<enter><wait>",
                "bash generic.gentoo.vagrant.sh && (chroot /mnt/gentoo /bin/bash < generic.gentoo.vagrant.chroot.sh) && reboot<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "Gentoo_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://mirrors.kernel.org/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/install-amd64-minimal-20170525.iso",
            "iso_checksum": "a9d254e4ccd8015123b0ddafcd49365e2b3766d74a62f2ac2d9b685822a72c6f",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "shutdown -hP now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-freebsd11-virtualbox",
            "vm_name": "generic-freebsd11-virtualbox",
            "output_directory": "output/generic-freebsd11-virtualbox",
            "boot_wait": "5s",
            "boot_command": [
                "<esc><wait>",
                "boot -s<wait>",
                "<enter><wait>",
                "<wait10><wait10>",
                "/bin/sh<enter><wait5>",
                "mdmfs -s 100m md1 /tmp<enter><wait5>",
                "mdmfs -s 100m md2 /mnt<enter><wait5>",
                "dhclient -l /tmp/dhclient.lease.em0 em0<enter><wait5>",
                "fetch -o /tmp/installerconfig http://{{ .HTTPIP }}:{{ .HTTPPort }}/generic.freebsd11.vagrant.cfg<enter><wait10>",
                "bsdinstall script /tmp/installerconfig && reboot<enter><wait>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "FreeBSD_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://download.freebsd.org/ftp/releases/ISO-IMAGES/11.0/FreeBSD-11.0-RELEASE-amd64-disc1.iso",
            "iso_checksum": "08b12f2dc378f7a61b5469219824c74a2f9faef580acc85ffab45365df79872d",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "shutdown -p now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        },
        {
            "type": "virtualbox-iso",
            "name": "generic-openbsd6-virtualbox",
            "vm_name": "generic-openbsd6-virtualbox",
            "output_directory": "output/generic-openbsd6-virtualbox",
            "boot_wait": "20s",
            "boot_command": [
                "S<enter><wait>",
                "dhclient em0<enter><wait5>",
                "ftp -o /install.conf http://{{.HTTPIP}}:{{.HTTPPort}}/generic.openbsd6.install.cfg<enter><wait>",
                "ftp -o /install-chroot.sh http://{{.HTTPIP}}:{{.HTTPPort}}/generic.openbsd6.install.chroot.sh<enter><wait>",
                "/install -a -f /install.conf && chroot /mnt < /install-chroot.sh && reboot<enter>"
            ],
            "disk_size": 32768,
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048"
                ],
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--cpus",
                    "4"
                ]
            ],
            "guest_os_type": "OpenBSD_64",
            "http_directory": "http",
            "headless": true,
            "iso_url": "https://ftp.usa.openbsd.org/pub/OpenBSD/6.1/amd64/cd61.iso",
            "iso_checksum": "37cee759db10ffd5c0d086771b62ed771187a24baa4946e601153e394ce31aa6",
            "iso_checksum_type": "sha256",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "ssh_port": 22,
            "ssh_wait_timeout": "10000s",
            "shutdown_command": "shutdown -h -p now",
            "guest_additions_url": "http://download.virtualbox.org/virtualbox/5.1.22/VBoxGuestAdditions_5.1.22.iso",
            "guest_additions_sha256": "54df14f234b6aa484b94939ab0f435b5dd859417612b65a399ecc34a62060380",
            "guest_additions_path": "VBoxGuestAdditions.iso",
            "virtualbox_version_file": "VBoxVersion.txt"
        }
    ],
    "post-processors": [
        [
            {
                "type": "vagrant",
                "compression_level": 9,
                "keep_input_artifact": false,
                "vagrantfile_template": "tpl/generic.rb",
                "output": "output/{{build_name}}-{{user `box_version`}}.box"
            },
            {
                "type": "atlas",
                "only": [
                    "generic-oracle7-virtualbox"
                ],
                "artifact": "generic/oracle7",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-opensuse42-virtualbox"
                ],
                "artifact": "generic/opensuse42",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-alpine35-virtualbox"
                ],
                "artifact": "generic/alpine35",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-alpine36-virtualbox"
                ],
                "artifact": "generic/alpine36",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-centos6-virtualbox"
                ],
                "artifact": "generic/centos6",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-centos7-virtualbox"
                ],
                "artifact": "generic/centos7",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-arch-virtualbox"
                ],
                "artifact": "generic/arch",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-gentoo-virtualbox"
                ],
                "artifact": "generic/gentoo",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-debian8-virtualbox"
                ],
                "artifact": "generic/debian8",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-fedora25-virtualbox"
                ],
                "artifact": "generic/fedora25",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-freebsd11-virtualbox"
                ],
                "artifact": "generic/freebsd11",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-openbsd6-virtualbox"
                ],
                "artifact": "generic/openbsd6",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-ubuntu1604-virtualbox"
                ],
                "artifact": "generic/ubuntu1604",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-ubuntu1610-virtualbox"
                ],
                "artifact": "generic/ubuntu1610",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "atlas",
                "only": [
                    "generic-ubuntu1704-virtualbox"
                ],
                "artifact": "generic/ubuntu1704",
                "artifact_type": "vagrant.box",
                "metadata": {
                    "provider": "virtualbox",
                    "version": "{{user `box_version`}}",
                    "created_at": "{{timestamp}}",
                    "description": "A build environment for use in cross platform development."
                }
            },
            {
                "type": "artifice",
                "keep_input_artifact": true,
                "files": [
                    "output/{{build_name}}-{{user `box_version`}}.box"
                ]
            },
            {
                "type": "checksum",
                "checksum_types": [
                    "sha256"
                ],
                "keep_input_artifact": true,
                "output": "output/{{build_name}}-{{user `box_version`}}.box.sha256"
            }
        ]
    ]
}
